# TRNG API

## About

This API manages the TrueRandomNumberGenerator.

## Requirements
- pip packages:
    - flask \>= 2.3.2
    - flask-restful \>= 0.3.9
    - flask-cors \>= 3.0.10
- ssl certificates, if you want to run the API with TLS

## Installation
### satisfy requirements:
1. run command: `pip3 --force-reinstall -v flask==2.3.2`
2. run command: `pip3 --force-reinstall -v flask-restful==0.3.9`
3. run command: `pip3 --force-reinstall -v flask-cors==3.0.10`
### manual run:
1. run command: `python3 __init__.py`
### automatic run:
1. run command: `sudo cp connecttech-api.service /etc/systemd/system/`
2. run command: `sudo systemctl daemon-reload`
3. run command: `sudo systemctl start connecttech-api.service`
4. to ensure the api is running use the following command: `sudo systemctl status connecttech-api.service`

## Scripts
- __init.py__: startet die REST API + erm√∂glicht drei Requests
    - Requests: siehe [API Anforderungen v0.2](TRNG_API_v0.2.yaml)
- __connecttech-api.service__: This script is a systemd unit file that sets up and manages a service for an API. 
    - The API is called TrueRandomNumberGenerator and it is located in the `/home/connecttech/TrueRandomNumberGenerator/TRNG_API` directory.
    - The script is designed to start the API service using the Python interpreter (`/bin/python3`) and the main script file (`__init__.py`). It runs the service as the user "paul" and specifies that the service should be started when the system is idle.
    - The service is configured to inherit the standard output and error streams, which means that any output or error messages generated by the API will be displayed in the console or logged somewhere, depending on the system configuration.
    - The `Restart` directive is set to "always," which means that if the service crashes or exits unexpectedly, it will be automatically restarted by the systemd service manager.
    - Finally, the script specifies that the service should be installed and enabled to start on boot by using the `WantedBy=multi-user.target` directive.
    - Overall, this script sets up a systemd service to run the TrueRandomNumberGenerator API, ensuring it starts automatically, is monitored, and restarted if necessary.
