<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>True Random Number Generator - API Example</title>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script>
		$(document).ready(function() {
			// Initialize the random number generator
			$("#init-btn").click(function() {
				$.ajax({
					url: "/randomNum/init",
					type: "GET",
					success: function(response) {
						if (response === "ok") {
							$("#init-status").text("Initialized");
						} else {
							$("#init-status").text("Failed to initialize");
						}
					},
					error: function(jqXHR, textStatus, errorThrown) {
						$("#init-status").text("Error: " + errorThrown);
					}
				});
			});

			// Shutdown the random number generator
			$("#shutdown-btn").click(function() {
				$.ajax({
					url: "/randomNum/shutdown",
					type: "GET",
					success: function(response) {
						if (response === "ok") {
							$("#init-status").text("Standby mode");
						} else {
							$("#init-status").text("Failed to shutdown");
						}
					},
					error: function(jqXHR, textStatus, errorThrown) {
						$("#init-status").text("Error: " + errorThrown);
					}
				});
			});

			// Generate random numbers
			$("#generate-btn").click(function() {
				var quantity = $("#quantity-input").val();
				var numBits = $("#numBits-input").val();
				$.ajax({
					url: "/randomNum/generate",
					type: "GET",
					dataType: "json",
					data: {
						quantity: quantity,
						numBits: numBits
					},
					success: function(response) {
						$("#result").text(JSON.stringify(response));
					},
					error: function(jqXHR, textStatus, errorThrown) {
						$("#result").text("Error: " + errorThrown);
					}
				});
			});
		});
	</script>
</head>
<body>
	<h1>True Random Number Generator - API Example</h1>
	<p>This is an example page that demonstrates how to use the True Random Number Generator API to generate random bit sequences.</p>
	
	<p>Random number generator status: <span id="init-status">Not initialized</span></p>
	<button type="button" id="init-btn">Initialize</button>
	<button type="button" id="shutdown-btn">Shutdown</button>
	
	<form>
		<label for="quantity-input">Quantity:</label>
		<input type="number" id="quantity-input" name="quantity" min="0" value="0"><br><br>
		<label for="numBits-input">Number of bits:</label>
		<input type="number" id="numBits-input" name="numBits" min="0" value="0"><br><br>

		<button type="button" id="generate-btn">Generate</button>
	</form>
	
	<p>Result:</p>
	<pre id="result"></pre>
</body>
</html>
